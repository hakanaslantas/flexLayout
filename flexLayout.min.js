!function(t){function e(e,n,o){var i="v"===(t.isArray(n.dir)?n.dir[0]:n.dir)?"row":"column"
e.css({display:"flex","flex-flow":i,"justify-content":t.fn.flexLayout.flexConfig["justify-content"]}),t.each(n.layout,function(i,l){var a=t.isArray(l)?l[0].split(":")[0]:l.split(":")[0],u=/(px|em|%)/.test(a)?'style = "flex: 0 0 '+a+';" ':'style="flex: '+a+' 1 0;" ',c=r(t.isArray(l)?l[0].split(":")[1]:l.split(":")[1]),y=t("<div "+u+c+"></div>"),p=n.adjust,h=n.bars,d=n.dir
if(y.appendTo(e),(t.isArray(h)?h[0]:h)&&i<n.layout.length-1){var x=s(e,t.isArray(h)?h[0]:h),g=t("<div "+x+"></div>")
g.appendTo(e),(t.isArray(p)?p[0]:p)&&(g.css({cursor:function(){return"v"===(t.isArray(d)?d[0]:d)?"ew-resize":"ns-resize"}()}),f(g,t.isArray(d)?d[0]:d))}t.isArray(l)&&o.push({$element:y,options:{layout:l[1],dir:function(){return t.isArray(d)?(d.shift(),d[0]):"v"===d?"h":"v"}(),adjust:function(){return t.isArray(p)&&p.shift(),p.length?p:t.fn.flexLayout.defaults.adjust}(),bars:function(){return t.isArray(h)&&h.shift(),h.length?h:t.fn.flexLayout.defaults.bars}()}})}),o.shift()}function s(e,s){if("boolean"===t.type(s))return'style="flex: 0 0 3px;background-color: #999;"'
if(t.isPlainObject(s)){var r='style="'
return t.each(s,function(t,e){r+=t+": "+e+";"}),r+'"'}if("string"===t.type(s))return'class="'+s+'"'
throw new Error("jQuery plugin::flexLayout::error on barstyle settings")}function r(e){var s="",r=[]
return e?/(#|\.)/.test(e)&&!/(href)/.test(e)?(e=e.replace(/\s/g,""),/#.*?(?=\.|$)/i.test(e)&&(s+=e.match(/#.*?(?=\.|$)/i)[0].replace("#",'id="')+'"',e=e.replace(e.match(/#.*?(?=\.|$)/i)[0],"")),e&&(s+=' class="',r=e.split("."),t.each(r,function(t,e){e&&(s+=e+(t===r.length-1?"":" "))}),s+='"'),s):e:""}function f(e,s){e.on("mousedown",function(e){e.preventDefault()
var r=t(this),f=r.prev(),n=r.next(),o=r.parent(),i="v"===s?f.offset().left-o.offset().left:f.offset().top-o.offset().top,l="v"===s?n.offset().left+n.width()-o.offset().left:n.offset().top+n.height()-o.offset().top,a=l-i,u=Number.parseFloat(f.css("flex-grow"))+Number.parseFloat(n.css("flex-grow"))
o.on("mousemove",function(e){e.preventDefault()
var r=e.pageX-o.offset().left,l=e.pageY-o.offset().top,c="v"===s?(r-i)/a:(l-i)/a,y=1-c,p=10
p>100*c||p>100*y||(f.css({"flex-grow":c*u}),n.css({"flex-grow":y*u}),t(window).on("mouseup",function(){o.unbind("mousemove")}))})})}t.fn.flexLayout=function(s){var r={}
return t.isArray(s)?(r.layout=s,r=t.extend({},t.fn.flexLayout.defaults,r)):r=t.extend({},t.fn.flexLayout.defaults,s),this.each(function(s,f){var n=[],o=t(f)
for(f.style["flex-grow"]||f.style["flex-shrink"]||f.style["flex-basis"]||o.css({height:r.height,width:r.width}),n.push({$element:o,options:r});n.length;)e(n[0].$element,n[0].options,n)})},t.fn.flexLayout.defaults={layout:['100px:id="left" class="left-1 left-2"',"3:#center",['2:id="right"',["1:.right-top","3:.right-bottom .bottom"]]],height:"100%",width:"100%",dir:"v",adjust:!1,bars:!0},t.fn.flexLayout.flexConfig={"justify-content":"flex-start"}}(window.jQuery)
