!function(t){function e(e,o,i,f){var a="v"===(t.isArray(i.dir)?i.dir[0]:i.dir)?"row":"column"
e.css({display:"flex","flex-flow":a,"justify-content":t.fn.flexLayout.flexConfig["justify-content"]}),t.each(o,function(a,l){var u=t.isArray(l)?l[0].split(":")[0]:l.split(":")[0],c=/(px|em)/.test(u)?'style = "flex: 0 0 '+u+';" ':'style="flex: '+u+' 1 0;" ',p=r(t.isArray(l)?l[0].split(":")[1]:l.split(":")[1]),y=t("<div "+c+p+"></div>"),d=t.isArray(i.adjust)?i.adjust.slice():i.adjust,h=t.isArray(i.bars)?i.bars.slice():i.bars,x=t.isArray(i.dir)?i.dir.slice():i.dir
if(y.appendTo(e),((t.isArray(h)?h[0]:h)||(t.isArray(d)?d[0]:d))&&a<o.length-1){var v=s(e,t.isArray(h)?h[0]:h),g=t("<div "+v+"></div>")
g.appendTo(e),(t.isArray(d)?d[0]:d&&!/(px|em|%)/.test(u))&&n(g,t.isArray(x)?x[0]:x,o[a+1])}t.isArray(l)&&f.push({$element:y,layout:l[1],options:{dir:function(){return t.isArray(x)?(x.shift(),x[0]):"v"===x?"h":"v"}(),adjust:function(){return t.isArray(d)&&(d.shift(),d.length||(d=t.fn.flexLayout.defaults.options.adjust)),d}(),bars:function(){return t.isArray(h)&&(h.shift(),h.length||(h=t.fn.flexLayout.defaults.options.bars)),h}()}})}),f.shift()}function s(e,s){if("boolean"===t.type(s))return""
if(t.isPlainObject(s)){var r='style="'
return t.each(s,function(t,e){r+=t+": "+e+";"}),r+'"'}if("string"===t.type(s))return'class="'+s+'"'
throw new Error("jQuery plugin::flexLayout::error on barstyle settings")}function r(e){var s="",r=[]
return e?/(#|\.)/.test(e.charAt(0))?(e=e.replace(/\s/g,""),/#.*?(?=\.|$)/i.test(e)&&(s+=e.match(/#.*?(?=\.|$)/i)[0].replace("#",'id="')+'"',e=e.replace(e.match(/#.*?(?=\.|$)/i)[0],"")),e&&(s+=' class="',r=e.split("."),t.each(r,function(t,e){e&&(s+=e+(t===r.length-1?"":" "))}),s+='"'),s):/(=)/.test(e)?e:e.charAt(0)===e.charAt(0).toUpperCase()?'view="'+e+'" ':e.charAt(0)===e.charAt(0).toLowerCase()?'region="'+e+'"':(console.warn("please check your region/view name setting."),""):""}function n(e,s,r){/(px|em)/.test(t.isArray(r)?r[0].split(":")[0]:r.split(":")[0])||(e.css({cursor:function(){return"v"===s?"ew-resize":"ns-resize"}()}),e.on("mousedown",function(e){e.preventDefault()
var r=t(this),n=r.prev(),o=r.next(),i=r.parent(),f="v"===s?n.offset().left-i.offset().left:n.offset().top-i.offset().top,a="v"===s?o.offset().left+o.width()-i.offset().left:o.offset().top+o.height()-i.offset().top,l=a-f,u=Number.parseFloat(n.css("flex-grow"))+Number.parseFloat(o.css("flex-grow"))
i.on("mousemove",function(e){e.preventDefault()
var r=e.pageX-i.offset().left,a=e.pageY-i.offset().top,c="v"===s?(r-f)/l:(a-f)/l,p=1-c,y=10
return y>100*c||y>100*p?void i.unbind("mousemove"):(n.css({"flex-grow":c*u}),o.css({"flex-grow":p*u}),void t(window).on("mouseup",function(){i.unbind("mousemove")}))})}))}t.fn.flexLayout=function(s,r){var n={},o=[]
return t.isPlainObject(s)?(r=s,o=t.fn.flexLayout.defaults.layout):o=s||t.fn.flexLayout.defaults.layout,n=t.extend({},t.fn.flexLayout.defaults.options,r),this.each(function(s,r){var i=[],f=t(r)
for(r.style["flex-grow"]||r.style["flex-shrink"]||r.style["flex-basis"]||f.css({height:n.height,width:n.width}),i.push({$element:f,layout:o,options:n});i.length;)e(i[0].$element,i[0].layout,i[0].options,i)})},t.fn.flexLayout.defaults={layout:['80px:class="top banner"',['1:id="content"',["1:.content-left","2:.content-right"]]],options:{height:"100%",width:"100%",dir:"h",adjust:!1,bars:{flex:"0 0 1px","background-color":"#DEDEDE"}}},t.fn.flexLayout.flexConfig={"justify-content":"flex-start"},t.fn.flexlayout=t.fn.flexLayout}(window.jQuery)
